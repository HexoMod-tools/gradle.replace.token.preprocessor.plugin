apply plugin: 'application'
apply plugin: 'com.github.hexomod.replace.token.preprocessor'
apply plugin: 'com.github.hexomod.macro.preprocessor'

buildscript {
    repositories {
        mavenLocal()
        maven { url "https://plugins.gradle.org/m2/" }
    }
    dependencies {
        classpath group: 'com.github.hexomod', name: 'ReplaceTokenPreprocessor', version: '0.2'
        classpath group: 'com.github.hexomod', name: 'MacroPreprocessor', version: '0.4'
    }
}

repositories {
    jcenter()
    mavenLocal()
    mavenCentral()
}

dependencies {
}

application {
    mainClassName = 'com.github.hexomod.replace.token.Main'
}

ext {
    VERSION = "1.0.0"
    VERSION_NUM = "10000"
    INT = 1
    DOUBLE = 1.32
}

replaceTokenPreprocessorSettings {

    verbose true

    //extensions = [ ".properties",  ".yaml",  ".yml" ]
    //extension = ".java"

    replace '@VERSION@': project.ext.VERSION
    replace '@INT@': project.ext.INT
    replace '@DOUBLE@': project.ext.DOUBLE
    replace '@DEBUG@': true

    //sources = "src/main/java"
    //source = project.file("src/api/java").toString()
    //source = [ "src/api/java",  "src/main/java" ]
    //source = [ "src/api/java", file("src/main/java").toString() ]

    //resources = "src/main/resources"
    //resource = project.file("src/api/resources").toString()
    //resource = [ "src/api/resources",  "src/main/resources" ]
    //resource = [ "src/api/resources", file("src/main/resources").toString() ]

    //target = "build/preprocessor/replace"
    //target = file(buildDir.toString() + "/preprocessor/replace")
}

macroPreprocessorSettings {

    verbose true

    vars = [VERSION_NUM: project.ext.VERSION_NUM]
}